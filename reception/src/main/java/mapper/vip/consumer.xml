<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="consumer">
	<resultMap id="consumerVo" type="vo.vip.ConsumerVo">
		<result property="customerId" column="consumer_id"></result>
		<result property="customerName" column="consumer_name"></result>
		<result property="customerPhone" column="consumer_phone"></result>
		<result property="customerAddress" column="consumer_address"></result>
		<result property="blockFlag" column="block_flag"></result>
		<result property="createAt" column="create_time"></result>
	</resultMap>
	
	<select id="query">
		select consumer_id, consumer_name, consumer_phone, consumer_address, block_flag, create_time
		from consumer_view
		where 1 = 1
		<if test="customerId != null">
			and consumer_id = #{customerId}
		</if>
		<if test="customerPhone != null">
			and consumer_phone = #{customerPhone} 
		</if>
	</select>
</mapper>